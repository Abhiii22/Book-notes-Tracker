<%- include('partials/header') %>
        <h2>Edit Book</h2>
        
        <form class="book-form" action="/books/<%= book.id %>?_method=PUT" method="POST">
            <div class="form-group">
                <label for="title">Title *</label>
                <input type="text" id="title" name="title" value="<%= book.title %>" required>
            </div>
            
            <div class="form-group">
                <label for="author">Author *</label>
                <input type="text" id="author" name="author" value="<%= book.author %>" required>
            </div>
            
            <div class="form-group">
                <label for="rating">Rating (1-5)</label>
                <select id="rating" name="rating">
                    <option value="">Select rating</option>
                    <% for (let i = 1; i <= 5; i++) { %>
                        <option value="<%= i %>" <%= book.rating == i ? 'selected' : '' %>>
                            <%= i %> <%= i === 1 ? '★' : '★'.repeat(i) %>
                        </option>
                    <% } %>
                </select>
            </div>
            
            <div class="form-group">
                <label for="date_read">Date Read</label>
                <input type="date" id="date_read" name="date_read" value="<%= book.date_read ? new Date(book.date_read).toISOString().split('T')[0] : '' %>">
            </div>
            
            <div class="form-group">
                <label for="notes">Notes</label>
                <textarea id="notes" name="notes" rows="6"><%= book.notes %></textarea>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Update Book</button>
                <a href="/books/<%= book.id %>" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
<%- include('partials/footer') %>